# 🎯 一键启动指南

## 📦 已创建的文件

本项目已为您准备好以下启动脚本：

```
vitepress-blog-starter/
├── 📄 start.bat          ⭐ 启动脚本（双击运行）
├── 📄 start.ps1          🔧 PowerShell主脚本
├── 📄 stop.bat           🛑 停止脚本（双击运行）
├── 📄 stop.ps1           🔧 停止服务脚本
├── 📄 启动说明.md        📚 详细中文文档
└── 📄 START_GUIDE.md     📚 English documentation
```

---

## 🚀 使用方法

### 方法一：双击启动（最简单）

```
1. 找到项目根目录下的 start.bat
2. 双击运行
3. 等待自动检查环境和启动服务
4. 浏览器会自动打开管理后台
```

### 方法二：右键以管理员身份运行

```
1. 右键点击 start.bat
2. 选择"以管理员身份运行"
3. 这样可以避免权限问题
```

---

## ⚙️ 启动脚本功能

### 自动检查项

| 检查项 | 说明 | 失败处理 |
|-------|------|---------|
| ✅ **Node.js** | 检查是否安装及版本 | 提示下载链接 |
| ✅ **pnpm** | 检查包管理器 | 自动安装 |
| ✅ **依赖** | node_modules 是否存在 | 自动执行 `pnpm install` |
| ✅ **端口** | 5173 和 3456 是否被占用 | 提示关闭占用进程 |
| ✅ **目录** | drafts、trash 等必要目录 | 自动创建 |

### 启动流程

```
┌─────────────────────────────────────────┐
│  1. 检查 Node.js 环境                    │
│     ├─ 未安装 → 提示下载                 │
│     └─ 已安装 → 检查版本                 │
├─────────────────────────────────────────┤
│  2. 检查 pnpm                            │
│     ├─ 未安装 → 自动安装                 │
│     └─ 已安装 → 检查版本                 │
├─────────────────────────────────────────┤
│  3. 检查项目依赖                         │
│     ├─ 未安装 → 执行 pnpm install        │
│     └─ 已安装 → 跳过                     │
├─────────────────────────────────────────┤
│  4. 检查端口占用                         │
│     ├─ 被占用 → 提示关闭进程             │
│     └─ 空闲   → 继续                     │
├─────────────────────────────────────────┤
│  5. 创建必要目录                         │
│     ├─ drafts/articles                   │
│     ├─ drafts/images                     │
│     └─ trash                             │
├─────────────────────────────────────────┤
│  6. 启动开发服务器                       │
│     ├─ VitePress (端口 5173)            │
│     └─ API 服务器 (端口 3456)            │
├─────────────────────────────────────────┤
│  7. 打开浏览器                           │
│     └─ http://localhost:5173/tools/admin │
└─────────────────────────────────────────┘
```

---

## 🛑 停止服务

### 方法一：使用停止脚本

```
双击运行 stop.bat
```

### 方法二：使用快捷键

```
在运行服务的终端窗口中按 Ctrl + C
```

### 方法三：关闭终端窗口

```
直接关闭运行服务的命令行窗口
```

---

## 🎨 控制台输出示例

### 成功启动

```
========================================
   杰哥的技术小站 - 启动脚本
========================================

ℹ 正在检查 Node.js 环境...
✓ Node.js 已安装: v20.11.0

ℹ 正在检查 pnpm 包管理器...
✓ pnpm 已安装: v9.15.3

ℹ 正在检查项目依赖...
✓ 项目依赖已安装

ℹ 正在检查端口占用...
✓ 端口检查通过

ℹ 正在检查必要目录...
✓ 目录检查完成

========================================
   环境检查完成，正在启动服务...
========================================

启动命令: pnpm dev

服务地址:
  前台网站: http://localhost:5173
  管理后台: http://localhost:5173/tools/admin.html
  API服务:  http://localhost:3456

提示: 按 Ctrl+C 可以停止服务

浏览器将在 8 秒后自动打开...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

> vitepress-blog-starter@1.0.3 dev
> concurrently "vitepress dev docs" "node scripts/fetch-server.js"

[VitePress] dev server running at: http://localhost:5173
[API] ✅ 文章爬取API服务已启动
[API] 🌐 API地址: http://localhost:3456
```

---

## ❓ 快速排错

### 问题：窗口一闪而过

**原因**: 执行策略限制或脚本错误

**解决**:
```powershell
# 打开 PowerShell，运行：
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### 问题：Node.js 检测失败

**原因**: 环境变量未配置

**解决**:
```
1. 重启电脑
2. 或者手动添加 Node.js 到系统环境变量
```

### 问题：端口被占用

**原因**: 之前的服务未正常关闭

**解决**:
```
1. 运行 stop.bat 停止所有服务
2. 或者让启动脚本自动处理（选择 Y）
```

### 问题：依赖安装失败

**原因**: 网络问题

**解决**:
```bash
# 切换淘宝镜像
pnpm config set registry https://registry.npmmirror.com

# 重新安装
pnpm install
```

---

## 📚 更多文档

- **详细中文文档**: 查看 `启动说明.md`
- **English Guide**: See `START_GUIDE.md`
- **脚本源码**: 查看 `start.ps1` 和 `stop.ps1`

---

## 🎉 开始使用

1. **双击 `start.bat`** ← 就这么简单！
2. 等待环境检查和服务启动
3. 浏览器自动打开到管理后台
4. 开始创作您的博客！

---

## 💡 提示

- 首次运行会安装依赖，需要等待几分钟
- 服务启动后不要关闭终端窗口
- 使用完毕后运行 `stop.bat` 停止服务
- 如有问题，查看 `启动说明.md` 获取详细帮助

---

**祝您使用愉快！如有问题，请查看详细文档。** 🚀✨
